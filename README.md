# 基于安全信息编码的智能制造安全保障技术的罐体自动化生产线

## 软件组成

软件包括两个客户端：发行者客户端、使用者客户端；

发行者客户端用于生成密钥对，发行USB Key；

使用者客户端用于加解密数据；

## 工作流程

1. 发行者预先生成n个密钥对。
2. 发行者导入密钥对，并把所有的公钥+索引+姓名写入私有区。
3. 用户A发送数据给用户B时，生成一个随机密钥，并用B的公钥进行对随机密钥加密（通过姓名或者索引找到公钥），使用随机密钥加密数据，并把加密后的随机密钥+加密后的数据一起写入一个文件，发送给B；用户B使用自己的私钥解密出随机密钥，使用随机密钥解密出数据。

## 固件更改

1. 第一次导入SM2密钥对时，不需要输入PIN码；以后再导入SM2密钥对时，都需要输入PIN码。